import { useState } from "react";
import styles from "../MainPage.module.css";

const paragraphs: string[] = [
  "Мне двадцать лет, я студент Санкт-Петербургского политехнического университета Петра Великого на направлении прикладной информатики. Учёба для меня не формальность: я целенаправленно углубляюсь в архитектуру веб-приложений, разбираю классические алгоритмы и не боюсь задавать неудобные вопросы преподавателям. Практика и теория идут рука об руку, поэтому каждый семестр я выбираю учебные проекты, которые можно довести до состояния production-ready.",
  "За последние два курса я успел поработать в нескольких учебных product-командах, где отвечал не только за фронтенд, но и за интеграцию с API, автоматизацию CI и организацию код-ревью. Именно там почувствовал, что мне по-настоящему нравится собирать вокруг себя сильных людей, выстраивать процессы и доводить задачи до релиза, даже когда времени катастрофически мало.",
  "В 2025 году я прошёл Летнюю школу разработки интерфейсов Яндекса — ШРИ. Это был интенсив на грани марафона: ежедневные созвоны с наставниками, быстрые спринты, прототипы, тесты и обязательные демонстрации. Мы собирали сервис для внутреннего клиента, и я на собственном опыте прочувствовал, как важно проектировать дизайн-систему, документировать интерфейсы и общаться с бэкендом на одном языке. Этот опыт дал мне колоссальное понимание командной работы.",
  "Отдельная веха — научная статья \"Реализация и анализ алгоритмов защиты от SQL-инъекций на уровне драйвера БД\". Я написал её совместно с научным руководителем, исследуя, как можно перехватывать вредоносные запросы ещё до того, как они попадут в базу. Мы сравнили несколько стратегий экранирования, построили бенчмарки и предложили системный подход к интеграции защитного слоя в корпоративные приложения.",
  "Параллельно с университетом я веду пет-проекты: проектирую веб-сервисы для инженеров, устраиваю код-спринты с друзьями, менторю младших студентов по JavaScript и TypeScript. Мне важно не просто \"писать фронт\", а видеть, как продукт растёт: корректировать бизнес-метрики, собирать ретроспективы, дорабатывать пользовательский опыт. Поэтому каждая доработка начинается с общения с пользователями и анализа данных.",
  "Сегодня я сфокусирован на развитии как универсальный разработчик: уверен в React и TypeScript, тяну за собой инфраструктуру, не боюсь бэкэнда и системного программирования. Планирую углубиться в наблюдаемость и DevOps-практики, чтобы ещё лучше понимать, как код живёт в проде. Если коротко, я тот самый опытный чувак, который любит сложные задачи и умеет доводить их до результата."
];

const ExtendedAbout = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <section className={styles.extendedAbout} id="about-story">
      <div className={styles.extendedHeader}>
        <h2 className={styles.sectionTitle}>Расширенно обо мне</h2>
        <p className={styles.extendedLead}>
          Кратко: я люблю сложные продукты, не боюсь ответственности и всегда ищу
          способы прокачать команду. Если хочется деталей, нажмите кнопку ниже.
        </p>
        <button
          type="button"
          className={styles.extendedToggle}
          onClick={() => setIsOpen((prev) => !prev)}
          aria-expanded={isOpen}
          aria-controls="extended-about-description"
        >
          {isOpen ? "Скрыть подробности" : "Читать подробнее"}
        </button>
      </div>

      <div
        id="extended-about-description"
        className={`${styles.extendedContent} ${isOpen ? styles.extendedContentOpen : ""}`.trim()}
      >
        {paragraphs.map((text, index) => (
          <p key={index}>{text}</p>
        ))}
      </div>
    </section>
  );
};

export default ExtendedAbout;
